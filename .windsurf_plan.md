# Project Plan (.windsurf_plan.md)

## 2025-10-14

- **[goal]** Expand Jira comment capabilities and reduce number of tool calls required from IDE
- **[done]**
  - Implemented full Jira comment API coverage in our client/facade:
    - List with options, add/update with visibility/properties/flags, delete, get single, get by IDs
  - Extended MCP `jiraIssueToolkit` to support new actions and options
  - Added `listCommentsFull` toolkit action to return raw comments + extracted plain text in a single call
  - Fix `JiraIssues.searchIssues` endpoint: change `/rest/api/3/search/jql` to `/rest/api/3/search`; keep `jql` as query parameter
- **[status]** Implemented fix in `src/tools/jira/client/issues.ts`.
- **[next]**
  - Consider adding `getCommentWithThread` (parent/children) aggregation if needed
  - Address pre-existing `Env` lint (`COOKIE_ENCRYPTION_KEY`) in `src/index.ts`
  - Monitor for search regressions; add tests for `fieldsByKeys`, pagination (`startAt`, `maxResults`).
- **[notes]**
  - Keep interfaces aligned with Jira OpenAPI as we add more endpoints.

